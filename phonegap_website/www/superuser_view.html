<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Script located here so it runs immediately before anything on the page can load -->
    <script>
        var account = sessionStorage.getItem("account_id");
        if(! account){ // if not defined (i.e. value is undefined or null)
            alert("Please login first");
            location.replace("index.html");
        }else{
            var isAdmin = sessionStorage.getItem("isAdmin");
            if(! isAdmin || isAdmin == "false"){ // if not defined or false
                alert("Sorry you do not have access to this page");
                location.replace("homepage_client.html");
            }else{
                var superuserStatus = sessionStorage.getItem("superuserStatus");
                if(! superuserStatus || superuserStatus == "false"){ // if not defined or false
                    alert("Sorry you do not have access to this page");
                    location.replace("homepage.html");
                }
            }
        }
    </script>

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Superuser Main</title>
    <link rel=" shortcut icon" href="imgs/favicon.ico">

    <!-- JQuery -->
    <script type="application/javascript" src="js/jquery-2.1.4.min.js"></script>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script type="application/javascript" src="js/bootstrap.min.js"></script>
    <link href="js/Fullscreen-Loading-Indicators-with-jQuery-CSS3-HoldOn-js/src/css/HoldOn.css" rel="stylesheet">

    <!-- Additional Fonts and Icons -->
    <link rel="stylesheet" href="font-awesome-4.4.0/css/font-awesome.min.css">

    <!-- JS functions to communicate with WS -->
    <script src="js/scripts/webServices.js"></script>

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]>
    <script src="js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->

    <!-- DataTables -->
    <link rel="stylesheet" type="text/css" href="DataTables/datatables.min.css"/>
    <script type="text/javascript" src="DataTables/datatables.min.js"></script>

    <!-- Select2 -->
    <link href="css/select2.min.css" rel="stylesheet">
    <script src="js/select2.min.js"></script>

    <!--pNotify related links-->
    <script type="application/javascript" src="js/pnotify.custom.min.js"></script>
    <link rel="stylesheet" href="css/pnotify.custom.min.css"/>
    <link rel="stylesheet" href="css/pform.css"/>

    <!-- Show/Hide Password -->
    <script type="application/javascript" src="js/hideShowPassword.min.js"></script>

    <!--Loading screen-->
    <!--<script src="js/pace.min.js"></script>-->
    <!--<link href="css/atom.css" rel="stylesheet">-->

    <!-- Parent iFrame Resizer script -->
    <script src="js/iframeResizer.min.js"></script>

    <!-- Superuser View Specific styles -->
    <style type="text/css">
        @media (max-width: 991px) {
            .superNavbar {
                margin-right: -15px !important;
                margin-left: -15px !important;
            }
            .superNavbarHeader {
                margin-right: -15px !important;
                margin-left: -15px !important;
            }
        }
    </style>

    <script>
        $(document).ready(function(){
            $('#frameQual').iFrameResize();

            $('#qualModal').on('hidden.bs.modal', function () {
                $('#frameQual').attr('src', '');
                $('#qualModalLabel').text("");
            });
        });
    </script>

    <!-- Superuser View Functions -->
    <script type="application/javascript">
        function logout(){
            sessionStorage.clear();
            location.replace('index.html');
        }
        function loadAdminGroupSelectList(){
            getAllAdminGroups(function (){
                var groups = this;
                $.each(groups, function(i, val){
                    console.log(val);
                    // There should always be atleast one admin group available
                    if(val.isActive || val.isActive == "true") {
                        $('#selectAdminGroups').append('<option value="' + val.id + '">' + val.name + '</option>');
                    }
                });
            });
        }

        function addAdmin(){
            var acName = $('#admin_name').val();
            var pw = $('#admin_pw').val();
            var isSuperUser = $('#admin_special').is(':checked');

            var adminGroups = $('#selectAdminGroups').val();

            insertAccount(true, acName, pw, isSuperUser, function(){
                var act = this;
                $.each(adminGroups, function(i, val) {
                    assignAccountToAdminGroup(val, act.accountId); // Assigning account to each selected group
                });
            });
        }
        function updateAdmin(){
            var acName = $('#admin_name').val();
            var pw = $('#admin_pw').val();
            var isSuperUser = $('#admin_special').is(':checked');

            var adminGroups = $('#selectAdminGroups').val();

            alert_type = "info";
            alert("Updating admin: " + acName + "\nPassword: " + pw + "\nSuperuser Status: " + isSuperUser + "\nAdmin Groups: " + adminGroups);
        }
        function loadAdminAdd(){
            $('#modalAdminTitle').text("Add Admin Account");
            $('#modalAdminConfirmAdd').show();
            loadAdminGroupSelectList();
        }

        function addAdminGroup(){
            var ag_name = $('#ag_name').val();
            insertAdminGroup(ag_name);
        }
        function updateAdminGroup(){
            var id = $('#ag_id').val();
            var ag_name = $('#ag_name').val();

            alert_type = "info";
            alert("Updating admin group: " + ag_name);
        }
        function loadAGAdd(){
            $('#modalTitleAG').text("Create Admin Group");
            $('#modalAGConfirmAdd').show();
        }

        function loadEditAG(id, name){
            $('#modalTitleAG').text("Edit Admin Group");
            $('#ag_name').val(name);
            $('#ag_id').val(id);
            $('#modalAGConfirmEdit').show();
        }
        function loadEditAdmin(id, name, superStatus, pw){
            $('#modalAdminTitle').text("Edit Admin Account");
            $('#modalAdminConfirmEdit').show();

            loadAdminGroupSelectList();
            getAdminGroupsByAccount(id, function(){
                var groups = this;
                var selected = [];
                $.each(groups, function(i, val){
                    selected.push(val.id);
                });
                $('#selectAdminGroups').val(selected).trigger('change');
            });

            $('#admin_id').val(id);
            $('#admin_name').val(name);
            $('#admin_pw').val(pw);

            if(superStatus == true){
                $('#admin_normal').attr('checked', false);
                $('#admin_special').attr('checked', true).trigger('click');
            }else{
                $('#admin_special').attr('checked', false);
                $('#admin_normal').attr('checked', true).trigger('click');
            }
        }


        function loadAct(){
            $('#form_submit').text("Reactivate").addClass("btn-primary");
        }
        function loadDeact(){
            $('#form_submit').text("Deactivate").addClass("btn-danger");
        }

        function loadActAG(id){
            loadAct();

            $('#form_body').text("Are you sure you wish to reactivate this Admin Group?");

            confirmAction(id, "Reactivate?", "warning", "react_ag", "Successfully reactivated the Admin Group!");
        }
        function loadActAcct(id){
            loadAct();

            $('#form_body').text("Are you sure you wish to reactivate this Account?");

            confirmAction(id, "Reactivate?", "warning", "react_ac", "Successfully reactivated the Account!");
        }
        function loadActQual(id){
            loadAct();

            $('#form_body').text("Are you sure you wish to reactivate this Qual?");

            confirmAction(id, "Reactivate?", "warning", "react_q", "Successfully reactivated the Admin Group!");
        }
        function loadActProj(id){
            loadAct();

            $('#form_body').text("Are you sure you wish to reactivate this Project?");

            confirmAction(id, "Reactivate?", "warning", "react_pg", "Successfully reactivated the Admin Group!");
        }

        function loadDeactAG(id){
            loadDeact();

            $('#form_body').text("Are you sure you wish to deactivate this Admin Group?");

            confirmAction(id, "Deactivate?", "error", "deact_ag", "Successfully deactivated the Admin Group!");
        }
        function loadDeactAcct(id){
            loadDeact();

            $('#form_body').text("Are you sure you wish to reactivate this Account?");

            confirmAction(id, "Deactivate?", "error", "deact_ac", "Successfully deactivated the Account!");
        }
        function loadDeactQual(id){
            loadDeact();

            $('#form_body').text("Are you sure you wish to deactivate this Qual?");

            confirmAction(id, "Deactivate?", "error", "deact_q", "Successfully deactivated the Qual!");
        }
        function loadDeactProj(id){
            loadDeact();

            $('#form_body').text("Are you sure you wish to deactivate this Project?");

            confirmAction(id, "Deactivate?", "error", "deact_pg", "Successfully deactivated the Project!");
        }

        function loadAdminGroupsTable(table){
            getAllAdminGroups(function(){
                var groups = this;
                if(groups.length > 0 && groups !== null) {
                    $.each(groups, function (i, val) {

                        var agName = "";
                        if(val.name){
                            agName = val.name;
                        }

                        var active = "false";
                        if(val.isActive){
                            active = val.isActive;
                        }

                        var disableReactive = "";
                        var disableDeactive = "";
                        if(active == true){
                            disableReactive = "disabled=\"disabled\"";
                        }else{
                            disableDeactive = "disabled=\"disabled\"";
                        }

                        table.row.add([agName,
                            '<button type="button" class="btn" data-toggle="modal" data-target="#modalAG" onclick="loadEditAG('+val.id+',\''+agName+'\')"><span class="glyphicon glyphicon-pencil"><span class="sr-only">Edit</span></span></button>',
                            active,'<button type="button" class="btn" '+disableReactive+' onclick="loadActAG('+val.id+')"><span class="fa fa-recycle"><span class="sr-only">Reactivate</span></span></button>',
                            '<button type="button" class="btn" '+disableDeactive+' onclick="loadDeactAG('+val.id+')"><span class="glyphicon glyphicon-trash"><span class="sr-only">Delete</span></span></button>']).draw(false);
                    });
                }
            });
        }

        function loadAdminsTable(table){
            getAllAdmins(function (){
                var admins = this;
                if(admins.length > 0 && admins !== null){
                    $.each(admins, function(i, val){

                        var superuser = "false";
                        if(val.isSuperUser){
                            superuser = val.isSuperUser;
                        }

                        console.log(val.isActive);

                        var active = "false";
                        if(val.isActive){
                            active = val.isActive;
                        }

                        var accountName = "";
                        if(val.accountName){
                            accountName = val.accountName;
                        }

                        var disableReactive = "";
                        var disableDeactive = "";
                        if(active == true){
                            disableReactive = "disabled=\"disabled\"";
                        }else{
                            disableDeactive = "disabled=\"disabled\"";
                        }

                        table.row.add([accountName, superuser,
                            '<button type="button" class="btn" data-toggle="modal" data-target="#modalAdmin" onclick="loadEditAdmin('+val.accountId+',\''+ accountName +'\','+superuser+ ',\'' + val.password +'\')"><span class="glyphicon glyphicon-pencil"><span class="sr-only">Edit</span></span></button>',
                            active, '<button type="button" class="btn" '+disableReactive+'  onclick="loadActAcct('+val.accountId+')"><span class="fa fa-recycle"><span class="sr-only">Reactivate</span></span></button>',
                            '<button type="button" class="btn" '+disableDeactive+'  onclick="loadDeactAcct('+val.accountId+')"><span class="glyphicon glyphicon-trash"><span class="sr-only">Delete</span></span></button>']).draw(false);
                    });
                }
            });
        }

        function loadQualsTable(table){
            getAllQuals(function (){
                var quals = this;
                if(quals.length > 0 && quals !== null) {
                    $.each(quals, function (i, val) {

                        //console.log(val.isActive);

                        var projectName = "";
                        if(val.projectName){
                            projectName = val.projectName;
                        }

                        var subtitle = "";
                        if(val.subtitle){
                            subtitle = val.subtitle;
                        }

                        var clientName = "";
                        if(val.clientName){
                            clientName = val.clientName;
                        }

                        var anonymousName = "";
                        if(val.anonymousName){
                            anonymousName = val.anonymousName;
                        }

                        var anonymousState = "false";
                        if(val.isAnonymous){
                            anonymousState = val.isAnonymous;
                        }

                        var qualStatus = "";
                        if(val.status){
                            qualStatus = val.status;
                        }

                        var active = "false";
                        if(val.isActive || val.isActive == "true"){
                            active = val.isActive;
                        }

                        var disableReactive = "";
                        var disableDeactive = "";
                        if(active == true){
                            disableReactive = "disabled=\"disabled\"";
                        }else{
                            disableDeactive = "disabled=\"disabled\"";
                        }

                        // TODO add tooltip to edit for when editing a deactivated qual
                        table.row.add([projectName,subtitle,clientName,anonymousName,anonymousState,qualStatus,
                                '<button type="button" '+disableDeactive+' data-toggle="modal" data-target="#qualModal" class="btn" onclick="editQual('+val.qualId+')"><span class="fa fa-pencil"><span class="sr-only">Edit</span></span></button>',
                            active,'<button type="button" class="btn" '+disableReactive+'  onclick="loadActQual('+val.qualId+')"><span class="fa fa-recycle"><span class="sr-only">Reactivate</span></span></button>',
                            '<button type="button" class="btn" '+disableDeactive+'  onclick="loadDeactQual('+val.qualId+')"><span class="glyphicon glyphicon-trash"><span class="sr-only">Delete</span></span></button>']).draw(false);

                    });
                }
            });
        }

        function loadProjectGroupsTable(table){
            getAllProjectGroups(function (){
               var projects = this;
                if(projects.length > 0 && projects !== null){
                    $.each(projects, function (i, val){

                        var active = "false";
                        if(val.isActive){
                            active = val.isActive;
                        }

                        var projectName = "";
                        if(val.projectGroupName){
                            projectName = val.projectGroupName;
                        }

                        var disableReactive = "";
                        var disableDeactive = "";
                        if(active == true){
                            disableReactive = "disabled=\"disabled\"";
                        }else{
                            disableDeactive = "disabled=\"disabled\"";
                        }

                        table.row.add([projectName,
                            active,'<button type="button" class="btn" '+disableReactive+'  onclick="loadActProj('+val.id+')"><span class="fa fa-recycle"><span class="sr-only">Reactivate</span></span></button>',
                            '<button type="button" class="btn" '+disableDeactive+'  onclick="loadDeactProj('+val.id+')"><span class="glyphicon glyphicon-trash"><span class="sr-only">Delete</span></span></button>']).draw(false);
                    });
                }
            });
        }

        function loadClientsTable(table){
            getAllClients(function (){
                var clients = this;
                if(clients.length > 0 && clients !== null){
                    $.each(clients, function (i, val){

                        var active = "false";
                        if(val.isActive){
                            active = val.isActive;
                        }

                        var accountName = "";
                        if(val.accountName){
                            accountName = val.accountName;
                        }

                        var disableReactive = "";
                        var disableDeactive = "";
                        if(active == true){
                            disableReactive = "disabled=\"disabled\"";
                        }else{
                            disableDeactive = "disabled=\"disabled\"";
                        }

                        table.row.add([accountName, val.password,
                            active, '<button type="button" class="btn" '+disableReactive+'  onclick="loadActAcct('+val.accountId+')"><span class="fa fa-recycle"><span class="sr-only">Reactivate</span></span></button>',
                            '<button type="button" class="btn" '+disableDeactive+'  onclick="loadDeactAcct('+val.accountId+')"><span class="glyphicon glyphicon-trash"><span class="sr-only">Delete</span></span></button>']).draw(false);
                    });
                }
            });
        }
    </script>

    <script>
        function addQual(){
            $('#qualModalLabel').text("Add New Qual");
            $('#frameQual').attr('src', 'qual_add.html'); // Loading the iframe
        }

        function editQual(qual_id){
            console.log(qual_id);
            sessionStorage.setItem("edit_qual_id", qual_id); // Setting edit qual id
            $('#qualModalLabel').text("Edit Existing Qual"); // Changing Title of modal
            $('#frameQual').attr('src', 'qual_add.html'); // Loading the iframe
        }
    </script>

    <script>
        function confirmAction(item_id, notice_title, notice_type, submit_option, success_message) {
            var notice = new PNotify({
                title: notice_title,
                text: $('#form_notice').html(),
                icon: true,
                width: 'auto',
                hide: false,
                type: notice_type,
                buttons: {
                    closer: false,
                    sticker: false
                },
                insert_brs: false
            });
            notice.get().find('form.pf-form').on('click', '[name=cancel]', function () {
                cleanseForm();
                notice.remove();
            }).submit(function () {

                if(submit_option == "deact_ag")
                {
                    deleteAdminGroup(item_id);
                    reloadAG();
                }
                else if(submit_option == "deact_ac")
                {
                    deleteAccount(item_id);
                    reloadAdmins();
                    reloadClients();
                }
                else if(submit_option == "deact_q")
                {
                    deleteQual(item_id);
                    reloadQuals();
                }
                else if(submit_option == "deact_pg")
                {
                    deleteProjectGroup(item_id);
                    reloadProjects();
                }
                else if(submit_option == "react_ag")
                {
                    reactivateAdminGroup(item_id);
                    reloadAG();
                }
                else if(submit_option == "react_q")
                {
                    reactivateQual(item_id);
                    reloadQuals();
                }
                else if(submit_option == "react_ac")
                {
                    reactivateAccount(item_id);
                    reloadAdmins();
                }
                else if(submit_option == "react_pg")
                {
                    reactivateProjectGroup(item_id);
                    reloadProjects();
                }

                cleanseForm();
                notice.update({
                    title: 'Completed',
                    text: success_message,
                    icon: true,
                    width: PNotify.prototype.options.width,
                    hide: true,
                    buttons: {
                        closer: true,
                        sticker: true
                    },
                    type: 'success'
                });
                return false;
            });
        }

        function cleanseForm(){
            $('#form_title').text("");
            $('#form_body').text("");

            $('#form_submit').text("").removeClass('btn-primary btn-danger');

        }
    </script>

    <!-- Superuser View document.ready Functions -->
    <script type="application/javascript">
        $(document).ready(function(){

            HoldOn.open();

            // Wrapping of default alert
            window.alert = function(message) {
                new PNotify({
                    title: 'Alert',
                    text: message,
                    type: alert_type,
                    opacity: .8,
                    nonblock: {
                        nonblock: true,
                        nonblock_opacity: .2
                    },
                    buttons: {
                        show_on_nonblock: true
                    }
                });
            };

            $('#selectAdminGroups').select2({width:"style", multiple:"true", placeholder:"Select Admin Groups for this Account"});

            // Global variables, as required to do specific reloading of individual tables instead of entire page
            tableQuals = $('#tableQuals').DataTable({
                "pagingType": "full_numbers",
                "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]]
            });
            $('#tableQuals_filter').append('<div class="form-group" style="padding-left: 10px;"><button type="button" onclick="reloadQuals();"><span class="glyphicon glyphicon-refresh"></span></button></div>');

            tableAdminGroups = $('#tableAdminGroups').DataTable({
                "pagingType": "full_numbers",
                "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]]
            });
            $('#tableAdminGroups_filter').append('<div class="form-group" style="padding-left: 10px;"><button type="button" onclick="reloadAG();"><span class="glyphicon glyphicon-refresh"></span></button></div>');

            tableAdmins = $('#tableAdmins').DataTable({
                "pagingType": "full_numbers",
                "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]]
            });
            $('#tableAdmins_filter').append('<div class="form-group" style="padding-left: 10px;"><button type="button" onclick="reloadAdmins();"><span class="glyphicon glyphicon-refresh"></span></button></div>');

            tableProjects = $('#tableProjects').DataTable({
                "pagingType": "full_numbers",
                "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]]
            });
            $('#tableProjects_filter').append('<div class="form-group" style="padding-left: 10px;"><button type="button" onclick="reloadProjects();"><span class="glyphicon glyphicon-refresh"></span></button></div>');

            tableClients = $('#tableClients').DataTable({
                "pagingType": "full_numbers",
                "lengthMenu": [[5, 10, 25, 50, -1], [5, 10, 25, 50, "All"]]
            });
            $('#tableClients_filter').append('<div class="form-group" style="padding-left: 10px;"><button type="button" onclick="reloadClients();"><span class="glyphicon glyphicon-refresh"></span></button></div>');

            loadAdminGroupsTable(tableAdminGroups);
            loadAdminsTable(tableAdmins);
            loadQualsTable(tableQuals);
            loadProjectGroupsTable(tableProjects);
            loadClientsTable(tableClients);

            // Delaying instantiation of plugin for when modal is shown
            $('#modalAdmin').on('shown.bs.modal', function(event){
                // Password not shown and inner toggle is created
                $('#admin_pw').hideShowPassword(false, true);
            });

            <!-- Refreshing modals on hide -->
            $('#modalAG').on('hidden.bs.modal', function (event){
                $('#modalTitleAG').text("");
                $('#ag_name').val("");
                $('#ag_id').val("");
                $('#modalAGConfirmAdd').hide();
                $('#modalAGConfirmEdit').hide();
            });
            $('#modalAGConfirmAdd').hide();
            $('#modalAGConfirmEdit').hide();

            $('#modalAdmin').on('hidden.bs.modal', function (event) {
                $('#admin_id').val("");
                $('#admin_name').val("");
                $('#admin_pw').val("");
                $('#modalAdminTitle').text("");
                $('#modalAdminConfirmAdd').hide();
                $('#modalAdminConfirmEdit').hide();
                $('#selectAdminGroups').select2('data', null);
            });
            $('#modalAdminConfirmAdd').hide();
            $('#modalAdminConfirmEdit').hide();
        });

        setTimeout(function(){
            HoldOn.close();
        },2000);
    </script>
    <script type="application/javascript">
        // Table specific reload functions
        function reloadAG(){
            tableAdminGroups.clear().draw();
            loadAdminGroupsTable(tableAdminGroups);
        }
        function reloadAdmins(){
            tableAdmins.clear().draw();
            loadAdminsTable(tableAdmins);
        }
        function reloadQuals(){
            tableQuals.clear().draw();
            loadQualsTable(tableQuals);
        }
        function reloadProjects(){
            tableProjects.clear().draw();
            loadProjectGroupsTable(tableProjects);
        }
        function reloadClients(){
            tableClients.clear().draw();
            loadClientsTable(tableClients);
        }
    </script>
</head>
<body style="padding-top: 30px;" >

<!-- The form within this div(id="form_notice") is what is shown inside the customized PNotify form message -->
<div id="form_notice" style="display: none;">
    <form action method="POST" class="pf-form">
        <div class="pf-element">
            <div id="form_body">
            </div>
        </div>
        <div class="pf-element pf-buttons">
            <button id="form_cancel" type="button" name="cancel" class="pf-button btn btn-default">Cancel</button>
            <button id="form_submit" type="submit" name="submit" class="pf-button btn"></button>
        </div>
    </form>
</div>

<!-- Modal - Create Admin Group -->
<div class="modal fade" id="modalAG" tabindex="-1" role="dialog" aria-labelledby="modalAGTitle">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="modalAGTitle"></h4>
            </div>
            <div class="modal-body" id="modalAGBody">
                <form>
                    <div class="form-group">
                        <label for="ag_name" class="control-label">Admin Group Name: </label>
                        <input type="text" id="ag_name" class="form-control">
                    </div>
                    <input type="hidden" id="ag_id">
                </form>
            </div>
            <div class="modal-footer">
                <button id="modalAGCancel" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button id="modalAGConfirmAdd" type="button" data-dismiss="modal" onclick="addAdminGroup();" class="btn btn-success">Create</button>
                <button id="modalAGConfirmEdit" type="button" data-dismiss="modal" onclick="updateAdminGroup();" class="btn btn-success">Edit</button>
            </div>
        </div>
    </div>
</div><!--/.modal -->
<!-- Modal - Create Admin Group -->
<div class="modal fade" id="modalAdmin" tabindex="-1" role="dialog" aria-labelledby="modalAdminTitle">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="modalAdminTitle"></h4>
            </div>
            <div class="modal-body" id="modalAdminBody">
                <form>
                    <div class="form-group">
                        <label for="admin_name" class="control-label">Admin Name: </label>
                        <input type="text" id="admin_name" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="admin_pw" class="control-label">Password: </label>
                        <input type="password" id="admin_pw" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="selectAdminGroups">Admin Groups:</label>
                        <select id="selectAdminGroups" style="width: 100%;" class="form-control">
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="admin_normal">Admin Access: </label>
                        <br/>

                        <div class="btn-group-justified" data-toggle="buttons">
                            <label class="btn btn-default active">
                                <input type="radio" id="admin_normal" name="admin_access"
                                       checked="checked"/><i class="fa fa-lock"></i> Normal
                            </label>
                            <label class="btn btn-default">
                                <input type="radio" id="admin_special" name="admin_access"/>
                                <i class="fa fa-unlock"></i> Superuser
                            </label>
                        </div>
                    </div>
                    <input type="hidden" id="admin_id">
                </form>
            </div>
            <div class="modal-footer">
                <button id="modalAdminCancel" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button id="modalAdminConfirmAdd" type="button" data-dismiss="modal" onclick="addAdmin();" class="btn btn-success">Create</button>
                <button id="modalAdminConfirmEdit" type="button" data-dismiss="modal" onclick="updateAdmin();" class="btn btn-success">Edit</button>
            </div>
        </div>
    </div>
</div><!--/.modal -->

<!-- Add/Edit/Duplicate Qual Modal -->
<div class="qualModal modal fade" id="qualModal" tabindex="-1" role="dialog" aria-labelledby="qualModalLabel">
    <div class="modal-dialog modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i
                        class="fa fa-times fa-2x"></i></button>
                <h4 class="modal-title" id="qualModalLabel"></h4>
            </div>
            <div class="modal-body">
                <iframe id="frameQual" src="" width="100%" scrolling="no" frameborder="0"></iframe>
            </div>
            <div class="modal-footer hidden">
                <button id="btnQualModalClose" type="button" class="hidden btn btn-default" data-dismiss="modal">Close
                </button>
            </div>
        </div>
    </div>
</div>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header superNavbarHeader">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" >Qual App - Superuser Mode</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse superNavbar">
                <ul class="nav navbar-nav">
                    <li class="active"><a class="btn btn-link" href="homepage.html"><span class="glyphicon glyphicon-home"></span> Admin</a></li>
                    <li><a class="btn btn-link" data-toggle="modal" data-target="#modalAG" onclick="loadAGAdd();"><span class="fa fa-users"></span> Add Admin Group</a></li>
                    <li><a class="btn btn-link" data-toggle="modal" data-target="#modalAdmin" onclick="loadAdminAdd();"><span class="fa fa-user-plus"></span> Add Admin Account</a></li>
                    <li><a class="btn btn-link" onclick="logout();"><span class="glyphicon glyphicon-log-out"></span> Logout</a></li>
                </ul>
            </div><!--/.nav-collapse -->
            <div >
                <ul class="nav nav-pills" role="tablist">
                    <li role="presentation" class="active" ><a href="#adminGroups" aria-controls="admingGroups" role="tab" data-toggle="tab" >Admin Groups</a></li>
                    <li role="presentation" ><a href="#admins" aria-controls="admins" role="tab" data-toggle="tab" >Admins</a></li>
                    <li role="presentation" ><a href="#quals" aria-controls="quals" role="tab" data-toggle="tab" >Quals</a></li>
                    <li role="presentation" ><a href="#projects" aria-controls="projects" role="tab" data-toggle="tab" >Projects</a></li>
                    <li role="presentation" ><a href="#clients" aria-controls="clients" role="tab" data-toggle="tab" >Clients</a></li>
                </ul>
            </div>
        </div>
    </nav><!--/.navbar -->

    <!-- Page Container -->
    <div class="container">
        <div class="tab-content" style="padding-top: 70px;">
            <div role="tabpanel" class="tab-pane active" id="adminGroups">
                <table id="tableAdminGroups" class="table table-bordered table-responsive table-hover">
                    <thead>
                        <tr>
                            <th>Admin Group Name</th>
                            <th>Edit</th>
                            <th>Active?</th>
                            <th>Reactivate</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    <tbody id="tbodyAdminGroups"></tbody>
                </table>
            </div>
            <div role="tabpanel" class="tab-pane" id="admins">
                <table id="tableAdmins" class="table table-bordered table-responsive table-hover">
                    <thead>
                    <tr>
                        <th>Admin Name</th>
                        <th>Superuser?</th>
                        <th>Edit</th>
                        <th>Active?</th>
                        <th>Reactivate</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tbody id="tbodyAdmins"></tbody>
                </table>
            </div>
            <div role="tabpanel" class="tab-pane" id="quals">
                <table id="tableQuals" class="table table-bordered table-responsive table-hover">
                    <thead>
                    <tr>
                        <th>Project Name</th>
                        <th>Project Subtitle</th>
                        <th>Client Name</th>
                        <th>Anonymous Name</th>
                        <th>Anonymous?</th>
                        <th>Public?</th>
                        <th>Edit</th>
                        <th>Active?</th>
                        <th>Reactivate</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tbody id="tbodyQuals"></tbody>
                </table>

            </div>
            <div role="tabpanel" class="tab-pane" id="projects">
                <table id="tableProjects" class="table table-bordered table-responsive table-hover">
                    <thead>
                    <tr>
                        <th>Project Group Name</th>
                        <th>Active?</th>
                        <th>Reactivate</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tbody id="tbodyProjects"></tbody>
                </table>
            </div>
            <div role="tabpanel" class="tab-pane" id="clients">
                <table id="tableClients" class="table table-bordered table-responsive table-hover">
                    <thead>
                    <tr>
                        <th>Client Name</th>
                        <th>Client Password</th>
                        <th>Active?</th>
                        <th>Reactivate</th>
                        <th>Delete</th>
                    </tr>
                    </thead>
                    <tbody id="tbodyClients"></tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>
</body>
<script src="js/Fullscreen-Loading-Indicators-with-jQuery-CSS3-HoldOn-js/src/js/HoldOn.min.js"></script>
</html>