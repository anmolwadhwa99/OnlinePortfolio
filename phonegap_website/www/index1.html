<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Agency - Start Bootstrap Theme</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/agency.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <!-- jQuery -->
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="js/webServices.js"></script>
    <script src="js/WebServiceConnection.js"></script>


</head>

<body id="page-top" class="index">

    <!-- Navigation -->

    <nav>
        <ul class="list-unstyled main-menu" id="ProjectCart">
            <!--Include your navigation here-->
            <li class="text-right"><a href="#" id="nav-close"> > </a></li>
        </ul>
    </nav>

    <div class="navbar navbar-inverse navbar-fixed-top">

        <!--Include your brand here-->
        <div id="custom-search-input col-md-6 col-sm-8 col-xs-8" style="padding-top: 10px;padding-left: 10px;">
            <div class="input-group col-md-6 col-sm-8 col-xs-8">
                <input type="text" class="form-control input-sm" placeholder="Search.." />
                    <span class="input-group-btn">
                        <button class="btn btn-info btn-sm" type="button">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </span>
            </div>
        </div>
        <div class="navbar-header pull-right">
            <a id="nav-expander" class="nav-expander fixed">
                PROJECT CART &nbsp;<i class="fa fa-bars fa-lg white"></i>
            </a>
        </div>
    </div>

    <script>

        function getProjects(){
            getAllProjectGroups(function(){

                var projects = this;

                var htmlStr = "";
                for(i = 0; i< projects.length; i++){
                    htmlStr += "<div class='col-md-4 col-sm-6 portfolio-item'> \
                    <a class='portfolio-link' data-toggle='modal'> \
                    <div class='portfolio-hover'> \
                    <div class='portfolio-hover-content'>\
                    <i class='fa fa-plus fa-3x' onclick='addToCart(\"Hi\")'></i></div></div> \
                    <img src='img/portfolio/startup-framework.png' style='cursor: pointer;' onclick='openQualsForProject("+projects[i].id+", \""+projects[i].projectGroupName+"\")' alt=''> \
                    </a> \
                    <div class='portfolio-caption'> \
                    <h4>"+projects[i].projectGroupName+"</h4> \
                    </div></div>"
                }
                $("#projects").html(htmlStr);
            });
        }


        function openQualsForProject(projectID, projectName) {
            getQualsByProject(projectID, function(){

                var quals = this;

                var htmlStr = "<h1 id='projects-heading'>Projects</h1>";
                for(i = 0; i< quals.length; i++){
                    htmlStr += "<div class='col-md-4 col-sm-6 portfolio-item'> \
                    <a class='portfolio-link' data-toggle='modal'> \
                    <div class='portfolio-hover'> \
                    <div class='portfolio-hover-content'>\
                    <i class='fa fa-plus fa-3x' onclick='addToCart( \""+quals[i].projectName+"\")'></i></div></div> \
                    <img src='img/portfolio/startup-framework.png' style='cursor: pointer;' alt=''> \
                    </a> \
                    <div class='portfolio-caption'> \
                    <h4>"+quals[i].projectName+"</h4> \
                    </div></div>"
                }
                $("#projects").html(htmlStr);
                $("#projects-heading").html(projectName);

            });

        }

        function openQualsForClientProject(projectID, projectName) {
            getQualsByProject(projectID, function(){

                var quals = this;

                var htmlStr = "<h1 id='projects-heading'>Projects</h1>";
                for(i = 0; i< quals.length; i++){
                    htmlStr += "<div class='col-md-4 col-sm-6 portfolio-item'> \
                    <a class='portfolio-link' data-toggle='modal'> \
                    <div class='portfolio-hover'> \
                    <div class='portfolio-hover-content'>\
                    <i class='fa fa-plus fa-3x' onclick='addToCart(\""+quals[i].projectName+"\")'></i></div></div> \
                    <img src='img/portfolio/startup-framework.png' style='cursor: pointer;' alt=''> \
                    </a> \
                    <div class='portfolio-caption'> \
                    <h4>"+quals[i].projectName+"</h4> \
                    </div></div>"
                }
                $("#clients").html(htmlStr);
                $("#projects-heading").html(projectName);

            });

        }

        function getClients() {
            getAllClients(function () {
                //alert('hi')
                var clients = this;
                //alert(clients);
                var list = document.getElementById("client_list");

                var htmlStr = "";
                for (i = 0; i < clients.length; i++) {
//                    alert(clients[i].accountName);
                    htmlStr += '<div class="col-md-4 col-sm-6 portfolio-item">'+

                    '<div class="portfolio-hover">' +
                    '<div class="portfolio-hover-content">' +
                    '</div>' +
                    '</div>' +
                    '<a href="#portfolioModal1" class="portfolio-link" onclick="getProjectforClient('+clients[i].accountId+')">' +
                    '<img src="img/portfolio/roundicons.png" class="img-responsive" alt="">' +
                    '</a>' +
                    '<div class="portfolio-caption">' +
                    '<h4>'+clients[i].accountName+'</h4>' +
                    '</div>' +
                    '</div>';

                }

                $("#clients").html(htmlStr)
            });
        }

        function getProjectforClient(id){
            getProjectsByClient(id,function(){
                var projects = this;

                var htmlStr = "<div><button type='submit' class='btn btn-xl' onclick='getClients()'>Back To Clients</button></div><br>";
                for(i = 0; i< projects.length; i++){
                    htmlStr += "<div class='col-md-4 col-sm-6 portfolio-item'> \
                    <a class='portfolio-link' data-toggle='modal'> \
                    <div class='portfolio-hover'> \
                    <div class='portfolio-hover-content'>\
                    <i class='fa fa-plus fa-3x' style='cursor: pointer;' onclick='addToCart('Hi')'></i></div></div> \
                    <img src='img/portfolio/startup-framework.png' style='cursor: pointer;' onclick='openQualsForClientProject("+projects[i].id+", \""+projects[i].projectGroupName+"\")' alt=''> \
                    </a> \
                    <div class='portfolio-caption'> \
                    <h4>"+projects[i].projectGroupName+"</h4> \
                    </div></div>"
                }

                $("#clients").html(htmlStr);


            })

        }



        //        }       <div class='portfolio-hover'> \
//                    <div class='portfolio-hover-content'>\
//                    <i class='fa fa-plus fa-3x'></i></div></div> \
//                    <img src='img/portfolio/startup-framework.png' class='img-responsive' alt=''> \
//                    </a> \
//                    <div class='portfolio-caption'> \
//                    <h4>"+clients[i].accountName+"</h4> \
//                    <p class='text-muted'>Website Design</p> \
//                    </div></div>"
//
//                    htmlStr += "<div class='col-md-4 col-sm-6 portfolio-item'> \
//                    <div class='portfolio-hover'> \
//                    <div class='portfolio-hover-content'>\
//                    <a class='ortfolio-link'> <i class='fa fa-plus fa-3x'  style='cursor: pointer;' onclick='addToCart("+clients[i].accountName+")'></i></a>\
//                    </div></div>\
//                    <i class='fa fa-plus fa-3x'></i></div></div> \
//                    <a href=''#portfolioModal1' class='portfolio-link' onclick='getQualsForProject(1)'> \
//                    <img src='img/portfolio/startup-framework.png' class='img-responsive' alt=''> \
////

        function addToCart(m){

            var ul = document.getElementById("ProjectCart");
            var li = document.createElement("li");
            var a = document.createElement("a");
            a.setAttribute("href", "#");

            var span = document.createElement("span");
            span.setAttribute("class","icon");

            a.appendChild(document.createTextNode(m));
            a.appendChild(span);

            li.appendChild(a);
            li.onclick = function() {this.parentNode.removeChild(this);}
            li.setAttribute("id", m); // added line
            ul.appendChild(li);

        }

        function loadTab(tab) {

            if (tab == "#quals") {

            } else if (tab == "#projects") {
                $('#clients').removeClass('active'); // remove active class from tabs
                $('#quals').removeClass('active'); // remove active class from tabs
                $(tab).addClass('active'); // add active class to clicked tab
                getProjects();
            } else if (tab == "#clients") {
                $('#projects').removeClass('active'); // remove active class from tabs
                $('#quals').removeClass('active'); // remove active class from tabs
                $(tab).addClass('active'); // add active class to clicked tab

            } else {
                error("invalid tab");
            }
        }

        $(document).ready(function(){

            $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
                var target = $(e.target).attr("href") // activated tab
                loadTab(target);
            });
            getProjects();

            getClients();

            //Navigation Menu Slider
            $('#nav-expander').on('click',function(e){
                e.preventDefault();
                $('body').toggleClass('nav-expanded');
            });
            $('#nav-close').on('click',function(e){
                e.preventDefault();
                $('body').removeClass('nav-expanded');
            });

            // Initialize navgoco with default options
            $(".main-menu").navgoco({
                caret: '<span class="caret"></span>',
                accordion: false,
                openClass: 'open',
                save: true,
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 300,
                    easing: 'swing'
                }
            });

        });


    </script>

    <section id="portfolio1" class="bg-light-gray" style="padding: 0px; padding-top: 22px">
        <div class="container" style="margin: 0px; padding: 0px; width: inherit;">
    <!-- Services Section -->
            <div class="row">

                <div class="col-md-12">
                    <!-- Nav tabs --><div>
                    <ul class="nav nav-tabs nav-justified" role="tablist" id="tablist">

                        <li role="presentation" ><a href="#quals" aria-controls="quals" role="tab" data-toggle="tab">Quals</a></li>

                        <li role="presentation" class="active" ><a href="#projects" aria-controls="projects" role="tab" data-toggle="tab">Projects</a></li>

                        <li role="presentation" ><a href="#clients" aria-controls="clients" role="tab" data-toggle="tab">Clients</a></li>

                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">

                        <div role="tabpanel" class="tab-pane active" id="projects">

                        </div>

                        <div role="tabpanel" class="tab-pane" id="quals">
                            <ul id="list">

                            </ul>
                        </div>

                        <div role="tabpanel"   class="tab-pane" id="clients" >

                            <!--<script>getClients();</script>-->

                        </div>
                    </div>

                </div>
            </div>

        </div></div></section>

    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <span class="copyright">Copyright &copy; Your Website 2014</span>
                </div>
                <div class="col-md-4">
                    <ul class="list-inline social-buttons">
                        <li><a href="#"><i class="fa fa-twitter"></i></a>
                        </li>
                        <li><a href="#"><i class="fa fa-facebook"></i></a>
                        </li>
                        <li><a href="#"><i class="fa fa-linkedin"></i></a>
                        </li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <ul class="list-inline quicklinks">
                        <li><a href="#">Privacy Policy</a>
                        </li>
                        <li><a href="#">Terms of Use</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <!-- Portfolio Modals -->
    <!-- Use the modals below to showcase details about your portfolio projects! -->

    <!-- Portfolio Modal 1 -->
    <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <!-- Project Details Go Here -->
                            <h2>Project Name</h2>
                            <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                            <img class="img-responsive img-centered" src="img/portfolio/roundicons-free.png" alt="">
                            <p>Use this area to describe your project. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Est blanditiis dolorem culpa incidunt minus dignissimos deserunt repellat aperiam quasi sunt officia expedita beatae cupiditate, maiores repudiandae, nostrum, reiciendis facere nemo!</p>
                            <p>
                                <strong>Want these icons in this portfolio item sample?</strong>You can download 60 of them for free, courtesy of <a href="https://getdpd.com/cart/hoplink/18076?referrer=bvbo4kax5k8ogc">RoundIcons.com</a>, or you can purchase the 1500 icon set <a href="https://getdpd.com/cart/hoplink/18076?referrer=bvbo4kax5k8ogc">here</a>.</p>
                            <ul class="list-inline">
                                <li>Date: July 2014</li>
                                <li>Client: Round Icons</li>
                                <li>Category: Graphic Design</li>
                            </ul>
                            <button type="button" class="btn btn-primary" data-dismiss="modal"><i class="fa fa-times"></i> Close Project</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="js/agency.js"></script>


</body>
</html>
